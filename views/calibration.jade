doctype
html
  head
    meta(charset="utf-8")
    meta(name="viewport", content="width=device-width")
    title Client Calibration
  body(onload="init()")
    script(src="platform.js")
    script(src="/socket.io/socket.io.js")
    script(src="AudioContextMonkeyPatch.js")
    script(src="calibration.js")
    p
      label
        | Active 
        input(id="active", onchange="updateClientParams()", type="checkbox", value="0")
    p
      | Delay compensation 
      input(id="delay", onchange="updateClientParams()", type="number", value="0", min="-20", max="0", step="10")
      |  milliseconds
      br
      button(onclick="idIncrementValue('delay', -50)") -50
      | 
      button(onclick="idIncrementValue('delay', -5)") -5
      | 
      button(onclick="idIncrementValue('delay', -10)") -10 
      | 
      button(onclick="idIncrementValue('delay', -1)") -1 
      | 
      button(onclick="idSetValue('delay', 0)") =0 
      | 
      button(onclick="idIncrementValue('delay', +1)") +1 
      | 
      button(onclick="idIncrementValue('delay', +10)") +10 
      | 
      button(onclick="idIncrementValue('delay', +5)") +5 
      | 
      button(onclick="idIncrementValue('delay', +50)") +50 
    p
      | Gain compensation 
      input(id="gain", onchange="updateClientParams()", type="number", value="0", min="-30", max="30", step="1")
      |  dB
      br
      button(onclick="idIncrementValue('gain', -5)") -5 
      | 
      button(onclick="idIncrementValue('gain', -1)") -1 
      | 
      button(onclick="idSetValue('gain', 0)") =0 
      | 
      button(onclick="idIncrementValue('gain', +1)") +1 
      | 
      button(onclick="idIncrementValue('gain', +5)") +5 
    p
      button(onclick="validate()") Validate calibration
      |  for 
      select(id="output", onchange="updateClientParams()")
        option internal
        option external
      |  speaker
      br
      br
      | (or  
      button(onclick="restore()") retrieve
      |  it)
    p
      div(id="userAgent") No user agent
